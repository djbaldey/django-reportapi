{% load i18n l10n reportapi_base cache %}{% load url from future %}<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE|default:"ru" }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>
<head>
    <title>{% block title %}{% trans 'Reporting' %}{% endblock %}</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Grigoriy Kramarenko">

{% block shortcut_icons %}
    <link rel="icon" href="{{ STATIC_URL }}reportapi/{% SETTINGS 'REPORTAPI_VERSION' %}/img/logo.svg" type="image/svg">
    <link rel="icon" href="{{ STATIC_URL }}reportapi/{% SETTINGS 'REPORTAPI_VERSION' %}/img/logo.png" type="image/png">
{% endblock %}

    <!-- START: block style -->
    {% block style %}
    <link rel="stylesheet" href="{{ STATIC_URL }}font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}jquery/datetimepicker/2.4.1/min.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}selectize/0.12.0/css/selectize.bootstrap3.css">
    <link rel="stylesheet" href="{{ STATIC_URL }}reportapi/{% SETTINGS 'REPORTAPI_VERSION' %}/css/reportapi.min.css">

    <style type="text/css">
        html {
            position: relative;
            min-height: 100%;
        }
        body {
            margin-bottom: 60px;
        }
        body > .container {
            margin-top: 20px;
        }
        code {
            display: block;
            white-space: pre-wrap;
        }
        .navbar-brand > img {
            display: inline;
        }
        .footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 60px;
            background-color: #f5f5f5;
        }
        .footer>div {
            background-color: #f5f5f5;
        }
        .footer-content {
            padding-top: 20px;
            padding-bottom: 20px;
            padding-right: 40px;
            padding-left: 40px;
        }

    </style>
    {% endblock %}
    <!-- END: block style -->

    <!-- START: block extrastyle -->
    {% block extrastyle %}{% endblock %}
    <!-- END: block extrastyle -->
</head>


<body>
    <!-- START: block navbar -->
    {% block navbar %}
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">{% trans 'Toggle navigation' %}</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{% url 'reportapi:index' %}"
                title="Django ReportAPI">{% block navbar_brand %}{% trans 'Reporting' %}{% endblock %}</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
        {% cache 500 navbarsections request.user.id LANGUAGE_CODE %}
            {% for sect, reports in sections %}
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        {{ sect.label|title  }} <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'reportapi:report_list' sect.name %}">{% trans 'List reports' %}</a></li>
                        <li class="divider"></li>
                    {% for rep in reports %}
                        <li><a href="{% url 'reportapi:documents_section_name' rep.section rep.name %}">{{ rep.label }}</a></li>
                    {% endfor %}
                    </ul>
                </li>
            {% endfor %}
        {% endcache %}
            </ul>
            {% block navbar_project %}
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="{% SETTINGS 'PROJECT_URL' %}"
                        class="">{% block navbar_project_label %}<i class="fa fa-level-up"></i> {% SETTINGS 'PROJECT_NAME' %}{% endblock %}</a>
                </li>
            </ul>
            {% endblock %}
        </div><!--/.nav-collapse -->
      </div>
    </div>
    {% endblock %}
    <!-- END: block navbar -->

    <!-- START: block container -->
    {% block container %}
    <div id="container" class="container">
        <!-- START: block alert_place -->
        {% block alert_place %}
        <div class="row"><div id="alert-place" class="container"></div></div>
        {% endblock %}
        <!-- END: block alert_place -->

        <!-- START: block content -->
        {% block content %}{% endblock %}
        <!-- END: block content -->
    </div><!-- /.container -->
    {% endblock %}
    <!-- END: block container -->

    <!-- START: block footer -->
    {% block footer %}
    <!-- .footer -->
    <div class="footer">
        <div class="container">
            <div class="col-xs-12 col-sm-6">
                <div class="footer-content">
                    <span class="text-muted">{% trans 'version' %} {% SETTINGS 'REPORTAPI_VERSION' %}</a>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6">
                <div class="footer-content text-right">
                    <span class="text-muted">ReportAPI Â© 2014, {% trans 'Grigoriy Kramarenko' %}</span>
                </div>
            </div>
        </div>
    </div>
    <!-- /.footer -->
    {% endblock %}
    <!-- END: block footer -->

<!-- START: block jstemplates -->
    {% block jstemplates %}
    {% cache 600 jstemplates LANGUAGE_CODE %}
    <!-- underscore -->
    <script type="text/x-underscore" id="underscore-alert">
        {% include "reportapi/underscore_alert.html" %}
    </script>
    <script type="text/x-underscore" id="underscore-filter">
        {% include "reportapi/underscore_filter.html" %}
    </script>
    {% endcache %}
    {% endblock %}
<!-- END: block jstemplates -->

    <!-- START: block jsglobalvars -->
    {% block jsglobalvars %}
        <script type="text/javascript">
            /* GLOBAL VARS */
            window.AJAX_TIMEOUT = 3000;
            window.TIMEOUT_PROGRESS = 1000;
            window.REPORTAPI_API_URL = "{% filter escapejs %}{% url "reportapi:api" %}{% endfilter %}";
            window.USER_ID = "{{ user.id|default:0 }}";
            window.USER_NAME = "{{ user.username }}";
            window.USER_LAST_NAME = "{{ user.last_name }}";
            window.USER_FIRST_NAME = "{{ user.first_name }}";
            window.USER = "{{ user }}";
            window.DEBUG = {% filter lower %}{% SETTINGS 'DEBUG' %}{% endfilter %};
            window.LANGUAGE_CODE = "{{ LANGUAGE_CODE }}" || undefined;
            window.SERVER_TZ_OFFSET = {% SETTINGS 'SERVER_TZ_OFFSET' %};
        </script>
    {% endblock %}
    <!-- END: block jsglobalvars -->

    <!-- START: block js -->
    {% block js %}
    <!-- Bootstrap -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="{{ STATIC_URL }}jquery/2.1.3/jquery.min.js"></script>
    <script src="{{ STATIC_URL }}jquery/django/django-ajax-csrf.min.js"></script>
    <script src="{{ STATIC_URL }}jquery/json/2.5.1/jquery.json.min.js"></script>
    <script src="{{ STATIC_URL }}jquery/datetimepicker/2.4.1/min.js"></script>
    <script src="{{ STATIC_URL }}underscore/1.7.0/underscore.min.js"></script>
    <script src="{{ STATIC_URL }}bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="{{ STATIC_URL }}selectize/0.12.0/js/standalone/selectize.min.js"></script>
    <script src="{{ STATIC_URL }}reportapi/{% SETTINGS 'REPORTAPI_VERSION' %}/js/reportapi.min.js"></script>
    {% endblock %}

    <!-- START: block extrajs -->
    {% block extrajs %}{% endblock %}
    <!-- END: block extrajs -->

</body>
</html>
